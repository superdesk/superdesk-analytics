<div class="widget-container" ng-controller="AggregateCtrl as acc" ng-init="acc.setWidget(widget)">
    <div class="main-list" 
        ng-class="{wrap: acc.selected && !$root.config.features.customMonitoringWidget, 'custom-widget': $root.config.features.customMonitoringWidget}">

    </div>

    <div class="content-list-holder">
            <div sd-shadow>
                <div class="content-list" ng-if="!acc.state.solo">
                    <div class="desk" ng-repeat="group in acc.cards track by group._id">
                        <div class="stage" ng-show="total">
                            <div sd-stage-header></div>
                            <div class="stage-content" ng-style="acc.getMaxHeightStyle(group.max_items)"
                                 ng-show="acc.getExpandedState(group._id) || acc.state.solo"
                                 sd-widget-group
                                 data-stage="group"
                                 data-total="total"
                                 data-allowed="true"
                                 data-show-empty="false"
                                 data-max-items="group.max_items"
                                 data-action="acc.preview(item)"
                                 data-selected="acc.selected"
                                 data-filter="group.query">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-list" ng-if="acc.state.solo">
                    <div class="desk" ng-init="group = acc.state.solo">
                        <div class="stage" ng-show="total">
                            <div sd-stage-header></div>
                            <div class="stage-content" ng-show="acc.getExpandedState(group._id) || acc.state.solo"
                                 sd-widget-group
                                 data-stage="group"
                                 data-total="total"
                                 data-allowed="true"
                                 data-show-empty="false"
                                 data-max-items="100"
                                 data-action="acc.preview(item)"
                                 data-selected="acc.selected"
                                 data-filter="group.query">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

    <div class="preview preview-widget" ng-init="contenttab = true" 
        ng-if="acc.selected"
        ng-class="{wrap: !acc.selected && !$root.config.features.customMonitoringWidget, 'custom-widget': $root.config.features.customMonitoringWidget}">
        <div class="nav">
            <button class="backlink" href="" ng-if="!$root.config.features.customMonitoringWidget" ng-click="acc.preview()"><span class="ng-scope" translate>Back</span></button>
        </div>
    </div>
</div>

